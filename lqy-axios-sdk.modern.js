import e from"axios";function t(e,t){return function(o,s,r){const n=r.value;return r.value=function(o,s={}){o.method=t,o.url=e;try{return n.apply(this,[o,s])}catch(e){console.log(e),console.error(`${t} 装饰器报错`)}},r}}const o=require("qs");var s={GET:function(e,o){return t(e,"get")},POST:function(e,o){return t(e,"post")},PUT:function(e,o){return t(e,"put")},DELETE:function(e,o){return t(e,"delete")},UrlParam:function(e,t,o){const s=o.value;return o.value=function(...e){try{return e[0].url=`${e[0].url}/${e[1].join("/")}`,s.apply(this,[...e])}catch(t){console.error(`requestUrlParam-${e[1].join("/")} 装饰器报错`)}},o},QS:function(e,t,s){const r=s.value;return s.value=function(...e){try{return e[0].data=o.stringify(e[0].data),r.apply(this,[...e])}catch(e){console.error("QS 装饰器报错",e,o)}},s}};const{GET:r}=s,{POST:n}=s,{PUT:i}=s,{DELETE:l}=s,{UrlParam:u}=s,{QS:a}=s;export default class{constructor(e,t){this.axiosConfig=void 0,this.lqyAxiosConfig=void 0,this.Axios=null,this.axiosConfig=e,this.lqyAxiosConfig=t,this.lqyAxiosConfig=t,this.axiosConfig=e,this.init()}init(){var t,o,s,r,n;this.Axios=e.create({baseURL:this.axiosConfig.baseURL,timeout:this.axiosConfig.timeout,headers:this.axiosConfig.headers}),this.initInterceptorsResponse(this.Axios),this.initInterceptorsRequest(this.Axios),(null==(t=this.lqyAxiosConfig)?void 0:t.validateStatus)&&this.initValidateStatus(this.Axios,this.lqyAxiosConfig.validateStatus.validateStatusFn),(null==(o=this.lqyAxiosConfig)?void 0:o.beforeInterceptorsRequestHook)&&(this.Axios.defaults.beforeInterceptorsRequestHook=this.lqyAxiosConfig.beforeInterceptorsRequestHook),(null==(s=this.lqyAxiosConfig)?void 0:s.beforeInterceptorsResponseHook)&&(this.Axios.defaults.beforeInterceptorsResponseHook=this.lqyAxiosConfig.beforeInterceptorsResponseHook),(null==(r=this.lqyAxiosConfig)?void 0:r.afterInterceptorsRequestHook)&&(this.Axios.defaults.afterInterceptorsRequestHook=this.lqyAxiosConfig.afterInterceptorsRequestHook),(null==(n=this.lqyAxiosConfig)?void 0:n.afterInterceptorsResponseHook)&&(this.Axios.defaults.afterInterceptorsResponseHook=this.lqyAxiosConfig.afterInterceptorsResponseHook)}initInterceptorsResponse(e){e.interceptors.response.use(async function(t){var o,s,r;return null!=e&&null!=(o=e.defaults)&&o.beforeInterceptorsRequestHook&&await(null==e||null==(r=e.defaults)?void 0:r.beforeInterceptorsResponseHook(t)),null!=e&&null!=(s=e.defaults)&&s.afterInterceptorsRequestHook&&Promise.resolve().then(()=>{var o;null==e||null==(o=e.defaults)||o.afterInterceptorsResponseHook(t)}),t},e=>{Promise.reject(e)})}initInterceptorsRequest(e){e.interceptors.request.use(async function(t){var o,s,r;return null!=e&&null!=(o=e.defaults)&&o.beforeInterceptorsResponseHook&&await(null==e||null==(r=e.defaults)?void 0:r.beforeInterceptorsRequestHook(t)),null!=e&&null!=(s=e.defaults)&&s.afterInterceptorsRequestHook&&Promise.resolve().then(()=>{var o;null==e||null==(o=e.defaults)||o.afterInterceptorsRequestHook(t)}),t},e=>{Promise.reject(e)})}initValidateStatus(e,t){e.defaults.validateStatus=e=>e=>t()}lqyRequest(e){return new Promise((t,o)=>{this.Axios(e).then(e=>{t(e)}).catch(e=>{o(e)})})}}export{l as DELETE,r as GET,n as POST,i as PUT,a as QS,u as UrlParam};
//# sourceMappingURL=lqy-axios-sdk.modern.js.map
